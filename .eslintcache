[{"/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/index.js":"1","/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/LoginAdmin.js":"2","/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/LoginSiswa.js":"3","/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/HomeAdmin.js":"4","/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/Tes.js":"5","/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/History.js":"6","/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/HomePetugas.js":"7","/home/alipw/Documents/from-stratch/front-end/latihan-1/src/index.js":"8","/home/alipw/Documents/from-stratch/front-end/latihan-1/src/pages/Home.js":"9"},{"size":996,"mtime":1618287496986,"results":"10","hashOfConfig":"11"},{"size":4707,"mtime":1618318346279,"results":"12","hashOfConfig":"11"},{"size":2666,"mtime":1618285359025,"results":"13","hashOfConfig":"11"},{"size":12310,"mtime":1618977493929,"results":"14","hashOfConfig":"11"},{"size":3445,"mtime":1618142276733,"results":"15","hashOfConfig":"11"},{"size":6187,"mtime":1618287969764,"results":"16","hashOfConfig":"11"},{"size":7900,"mtime":1618290068551,"results":"17","hashOfConfig":"11"},{"size":386,"mtime":1621515305926,"results":"18","hashOfConfig":"19"},{"size":2657,"mtime":1621524504084,"results":"20","hashOfConfig":"19"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"24"},"1b40gaj",{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"24"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"46"},"1kdl6p9",{"filePath":"47","messages":"48","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/index.js",["49","50"],"import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    useHistory,\n} from \"react-router-dom\";\nimport LoginAdmin from \"./pages/LoginAdmin.js\";\nimport LoginSiswa from \"./pages/LoginSiswa.js\";\nimport Home from \"./pages/HomeAdmin.js\";\nimport HomePetugas from \"./pages/HomePetugas.js\";\nimport Tes from \"./pages/Tes.js\"\nimport History from \"./pages/History.js\"\n\nfunction App() {\n    return (\n        <Router>\n            <Switch>\n                <Route path=\"/loginAdmin\" component={LoginAdmin} />\n                <Route path=\"/LoginSiswa\" component={LoginSiswa} />\n                <Route path=\"/HomeAdmin\" component={Home} />\n                <Route path=\"/homepetugas\" component={HomePetugas} />\n                <Route path=\"/tes\" component={Tes} />\n                <Route path=\"/History\" component={History} />\n            </Switch>\n        </Router>\n    );\n}\n\nReactDOM.render(<App />, document.getElementById(\"app\"));\n",["51","52"],"/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/LoginAdmin.js",["53","54"],"import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"../styles/style.css\";\nimport axios from \"axios\";\n\nexport default function LoginAdmin() {\n    let history = useHistory();\n\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [level, setLevel] = useState(\"petugas\");\n    const [message, setMessage] = useState(\"\");\n    const [token, setToken] = useState(() => {\n        localStorage.getItem(\"token\");\n    });\n\n    //make a request to the API\n    function loginHandler() {\n        axios({\n            method: \"post\",\n            url: \"http://localhost:3001/api/login\",\n            data: {\n                level: level,\n                username: username,\n                password: password,\n            },\n        })\n            .then((response) => {\n                if (response.data.token) {\n                    setMessage(\"\");\n                    localStorage.clear();\n                    localStorage.setItem(\"token\", response.data.token);\n\t\t\t\t\tlocalStorage.setItem(\"level\", response.data.level);\n                    window.location = \"/home\" + response.data.level;\n                } else {\n                    setMessage(response.data.message);\n                }\n            })\n            .catch((err) => {\n                setMessage(err.message);\n            });\n    }\n\n    useEffect(() => {\n        if (!localStorage.getItem(\"token\")) {\n            //do nothing\n        } else {\n            const confirmed = window.confirm(\n                \"Apakah anda yakin ingin logout dan mengakhiri sesi?\"\n            );\n            if (!confirmed) {\n                history.push(\"/homeadmin\");\n            } else {\n                localStorage.clear();\n            }\n        }\n    }, [token]);\n\n    return (\n        <div >\n            <div className=\"login-grid\">\n                <form className=\"login-form\">\n                    <h3>Login</h3>\n                    <br />\n                    <div className=\"form-group\">\n                        <label htmlFor=\"username\">Username</label>\n                        <input\n                            type=\"username\"\n                            className=\"form-control\"\n                            id=\"username\"\n                            placeholder=\"Enter username\"\n                            value={username}\n                            onChange={(ev) => setUsername(ev.target.value)}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            id=\"password\"\n                            placeholder=\"Password\"\n                            value={password}\n                            onChange={(ev) => setPassword(ev.target.value)}\n                        />\n                    </div>\n                    <label htmlFor=\"priv-level\">Pilih Level</label>\n                    <div\n                        onChange={(ev) => setLevel(ev.target.value)}\n                        className=\"login-select-priv\"\n                        id=\"priv-level\"\n                    >\n                        <div className=\"radio\">\n                            <label>\n                                <input\n                                    type=\"radio\"\n                                    name=\"optionsRadios\"\n                                    id=\"optionsRadios1\"\n                                    value=\"petugas\"\n                                    defaultChecked={true}\n                                />\n                                Petugas\n                            </label>\n                        </div>\n                        <div className=\"radio\">\n                            <label>\n                                <input\n                                    type=\"radio\"\n                                    name=\"optionsRadios\"\n                                    id=\"optionsRadios2\"\n                                    value=\"admin\"\n                                />\n                                Admin\n                            </label>\n                        </div>\n                    </div>\n                    <p className=\"text-danger\">{message}</p>\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-primary\"\n                        onClick={loginHandler}\n                    >\n                        Submit\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n","/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/LoginSiswa.js",["55"],"import React, { useState } from \"react\";\nimport \"../styles/style.css\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function LoginSiswa() {\n    let history = useHistory();\n\n    const [NISN, setNISN] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n\n    //make a request to the API\n    function loginHandler() {\n        axios({\n            method: \"post\",\n            url: \"http://localhost:3001/api/login\",\n            data: {\n                level: \"siswa\",\n                username: NISN,\n                password: password,\n            },\n        }).then((response) => {\n            if (response.data.token) {\n                setMessage(\"\");\n                localStorage.setItem(\"nisn\", response.data.nisn)\n                localStorage.setItem(\"token\", response.data.token)\n                localStorage.setItem(\"level\", response.data.level)\n                history.push(\"/history\");\n            } else {\n                setMessage(response.data.message);\n            }\n        });\n    }\n\n    return (\n        <div>\n            <div className=\"login-grid\">\n                <form className=\"login-form\">\n                    <h3>Login</h3>\n                    <br />\n                    <div className=\"form-group\">\n                        <label htmlFor=\"NISN\">NISN</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"NISN\"\n                            placeholder=\"Enter NISN\"\n                            value={NISN}\n                            onChange={(ev) => setNISN(ev.target.value)}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            id=\"password\"\n                            placeholder=\"Password\"\n                            value={password}\n                            onChange={(ev) => setPassword(ev.target.value)}\n                        />\n                    </div>\n                    <p className=\"text-danger\">{message}</p>\n\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-primary\"\n                        onClick={loginHandler}\n                    >\n                        Submit\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n","/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/HomeAdmin.js",["56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/style.css\";\nimport { Redirect, useHistory, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function Home() {\n    const [tableName, setTableName] = useState(\"kelas\");\n    const [dbData, setDbData] = useState([{}]);\n    const [message, setMessage] = useState(\"\");\n    const [crudElement, setCrudElement] = useState(\"\");\n    const [update, setUpdate] = useState(false);\n    const [tableData, setTableData] = useState({});\n    const [referenceData, setReferenceData] = useState([]);\n    const [formData, setFormData] = useState({});\n    const [editData, setEditData] = useState({});\n    const [display, setDisplay] = useState(0);\n    const [curDisplay, setCurDisplay] = useState([\"none\", \"box\"])\n\n\t\n\tuseEffect(fetchTableData, [tableName], []);\n\n    function fetchTableData() {\n        const token = localStorage.getItem(\"token\");\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/crud/msc/tableinfo/\" + tableName,\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setReferenceData(response.data.reference_ids);\n                delete response.data[\"reference_ids\"];\n                setTableData(response.data);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n\t}\n\t\n\tfunction sendData() {\n        if(Object.keys(formData).length != Object.keys(tableData).length){\n            setMessage(\"data Incomplete\")\n            console.log(formData)\n        }\n        else{\n            const token = localStorage.getItem(\"token\");\n            axios({\n                method: \"post\",\n                data: formData,\n                url: \"http://localhost:3001/api/crud/\" + tableName,\n                headers: { Authorization: `Bearer ${token}` },\n            })\n                .then((response) => {\n                    makeNull()\n                    setUpdate(!update)\n                })\n                .catch((error) => {\n                    if(error.response){\n                        setMessage(error.response.data)\n                        console.log(\"error : \", error.response)\n                    }\n                });\n            }\n    }\n\n    function makeNull() {\n        Object.keys(tableData).map((key) => {\n\t\t\tif(tableData[key].references) {\n                formData[key] = referenceData[tableData[key].references.model][0];\n            }\n\t\t\telse formData[key] = \"\";\n        });\n        setFormData({ ...formData });\n        console.log(formData)\n    }\n\n    function form() {\n        var form = \" \";\n        if(localStorage.level == \"admin\"){\n            try{\n                form = (\n                    <div className=\"form-group col-sm-5\">\n                        {Object.keys(tableData).map((key) => (\n                            <>\n                                <label> {key}</label>\n                                {tableData[key].references ? (\n                                    <select\n                                        onChange={(ev) => {\n                                            formData[key] = ev.target.value;\n                                            setFormData({ ...formData });\n                                        }}\n                                        value={formData[key]}\n                                        className=\"form-control\"\n                                    >\n                                        {referenceData[\n                                            tableData[key].references.model\n                                        ].map((value) => (\n                                            <option>{value}</option>\n                                        ))}\n                                    </select>\n                                ) : (\n                                    <input\n                                        type=\"text\"\n                                        onChange={(ev) => {\n                                            formData[key] = ev.target.value;\n                                            setFormData({ ...formData});\n                                        }}\n                                        value={formData[key]}\n                                        className=\"form-control\"\n                                    ></input>\n                                )}\n                            </>\n                        ))}\n                        <br />\n                        <button className=\"btn btn-primary\" onClick={sendData}>\n                            Insert\n                        </button>\n                    </div>\n                );\n            }catch(error){\n                <h1>an error has occured</h1>\n            }\n        }\n\n        return form;\n    }\n\n    let history = useHistory();\n\n\n    //fetch data for CRUD\n    function fetchData() {\n        if (\n            !localStorage.getItem(\"token\") &&\n            (localStorage.getItem(\"level\") != \"petugas\" ||\n                localStorage.getItem(\"level\") != \"admin\")\n        ) {\n            history.push(\"/loginadmin\");\n        }\n        const token = localStorage.getItem(\"token\");\n        setFormData({})\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/crud/\" + tableName,\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setMessage(\"\");\n                setDbData(response.data);\n            })\n            .catch((error) => {\n                setMessage(error.message);\n                if ((error.response && error.response.status == 401)) {\n                    localStorage.clear();\n                    history.push(\"/loginadmin\");\n                }\n                \n\n            });\n    }\n\n    function updateData() {\n        makeNull()\n        setCrudElement(crudTable);\n    }\n\n    //lakukan request ke backend setiap kali tablename diganti atau dipaksa update oleh variabel update\n    useEffect(fetchData, [tableName, update], []);\n\n    //update isi table setiap kali ada perubahan di state dbData\n    useEffect(updateData, [dbData], []);\n\n    //fungsi menghapus data\n    function Drop(fieldname, id) {\n        const confirmed = window.confirm(\n            `Apakah anda yakin ingin menghapus data dengan ${fieldname} : ${id} ?`\n        );\n\n        var data_to_send = {\n            where_id: id,\n        };\n\n        if (confirmed) {\n            const token = localStorage.getItem(\"token\");\n            axios({\n                method: \"delete\",\n                data: data_to_send,\n                url: \"http://localhost:3001/api/crud/\" + tableName,\n                headers: { Authorization: `Bearer ${token}` },\n            })\n                .then(() => {\n                    setUpdate(!update);\n                })\n                .catch((error) => {\n                    if(error.response){\n                        console.log(error.response)\n                        setMessage(error.response.data);\n                    }\n                });\n        }\n    }\n\n    //render the crud table element\n    function crudTable() {\n        //mencoba me render data table, jika tidak ada data apapun untuk di render, maka return \"database kosong\"\n        try {\n            var crudTableHead = Object.keys(dbData[0]).map((key) => (\n                <th>{key}</th>\n            ));\n\n            var crudTableData = dbData.map((object) => (\n                <tr>\n                    {Object.keys(object).map((key) => (\n                        <td>{object[key]}</td>\n                    ))}\n                    <a\n                        className=\"btn btn-sm btn-danger btn-padding\"\n                        onClick={(ev) =>\n                            Drop(\n                                Object.keys(object)[0],\n                                object[Object.keys(object)[0]]\n                            )\n                        }\n                    >\n                        {\" \"}\n                        Delete{\" \"}\n                    </a>\n                </tr>\n            ));\n        } catch (e) {\n            return <h3 className=\"text-danger padding\">Database kosong</h3>;\n        }\n\n        return (\n            <div className=\"crudTable\">\n                <table className=\"table\">\n                    <thead>\n                        <tr>\n                            {crudTableHead}\n                            <th colspan=\"2\">Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>{crudTableData}</tbody>\n                </table>\n            </div>\n        );\n    }\n\n    \n    return (\n        <>\n        <div>\n            <nav className=\"navbar navbar-default\">\n                <div className=\"container-fluid\">\n                    <div className=\"navbar-header\">\n                        <button\n                            type=\"button\"\n                            className=\"navbar-toggle collapsed\"\n                            data-toggle=\"collapse\"\n                            data-target=\"#bs-example-navbar-collapse-1\"\n                            aria-expanded=\"false\"\n                        >\n                            <span className=\"sr-only\">Toggle navigation</span>\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                        </button>\n                        <a className=\"navbar-brand\" href=\"#\">\n                            Home\n                        </a>\n                    </div>\n                    <div\n                        className=\"collapse navbar-collapse\"\n                        id=\"bs-example-navbar-collapse-1\"\n                    >\n                        <ul className=\"nav navbar-nav navbar-right\">\n                            <li>\n                                <Link to=\"/loginadmin\">Logout</Link>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n            <div className=\"container-fluid\">\n                <div onChange={(ev) => setTableName(ev.target.value)}>\n                    <label class=\"radio-inline\">\n                        <input\n                            type=\"radio\"\n                            name=\"inlineRadioOptions\"\n                            defaultChecked={tableName == \"kelas\"}\n                            value=\"kelas\"\n                        />{\" \"}\n                        Kelas\n                    </label>\n                    <label class=\"radio-inline\">\n                        <input\n                            type=\"radio\"\n                            name=\"inlineRadioOptions\"\n                            defaultChecked={tableName == \"pembayaran\"}\n                            value=\"pembayaran\"\n                        />{\" \"}\n                        Pembayaran\n                    </label>\n                    <label class=\"radio-inline\">\n                        <input\n                            type=\"radio\"\n                            name=\"inlineRadioOptions\"\n                            defaultChecked={tableName == \"petugas\"}\n                            value=\"petugas\"\n                        />{\" \"}\n                        Petugas\n                    </label>\n                    <label class=\"radio-inline\">\n                        <input\n                            type=\"radio\"\n                            name=\"inlineRadioOptions\"\n                            defaultChecked={tableName == \"siswa\"}\n                            value=\"siswa\"\n                        />{\" \"}\n                        Siswa\n                    </label>\n                    <label class=\"radio-inline\">\n                        <input\n                            type=\"radio\"\n                            name=\"inlineRadioOptions\"\n                            defaultChecked={tableName == \"spp\"}\n                            value=\"spp\"\n                        />{\" \"}\n                        SPP\n                    </label>\n                </div>\n                {crudElement}\n                <p className=\"text-danger\">{message}</p>\n                <br/>\n                {form()}\n            </div>\n            \n        </div>\n        </>\n    );\n}\n","/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/Tes.js",["78","79","80","81"],"import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function Tes() {\n    const [tableData, setTableData] = useState({});\n    const [referenceData, setReferenceData] = useState([]);\n\tconst [formData, setFormData] = useState({});\n\tconst [message, setMessage] = useState(\"\")\n\tconst tableName = \"pembayaran\";\n\t\n\tuseEffect(fetchData, []);\n\n    function fetchData() {\n        const token = localStorage.getItem(\"token\");\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/crud/msc/tableinfo/\" + tableName,\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setReferenceData(response.data.reference_ids);\n                delete response.data[\"reference_ids\"];\n                setTableData(response.data);\n            })\n            .catch((error) => {\n                console.log(error);\n            });\n\t}\n\t\n\tfunction sendData() {\n        if(Object.keys(formData).length != Object.keys(tableData).length){\n            setMessage(\"data Incomplete\")\n            console.log(formData)\n        }\n        else{\n            const token = localStorage.getItem(\"token\");\n            axios({\n                method: \"post\",\n                data: formData,\n                url: \"http://localhost:3001/api/crud/\" + tableName,\n                headers: { Authorization: `Bearer ${token}` },\n            })\n                .then((response) => {\n\t\t\t\t\tmakeNull()\n                })\n                .catch((error) => {\n                    if(error.response){\n                        setMessage(error.response.data)\n                        console.log(\"error : \", error.response.data)\n                    }\n                });\n            }\n    }\n\n    function makeNull() {\n        Object.keys(tableData).map((key) => {\n\t\t\tif(tableData[key].references) formData[key] = referenceData[tableData[key].references.model][0]\n\t\t\telse formData[key] = \" \";\n        });\n        setFormData({ ...formData });\n    }\n\n    function form() {\n        var form = (\n            <div className=\"form-group col-sm-5\">\n                {Object.keys(tableData).map((key) => (\n                    <>\n                        <label> {key}</label>\n                        {tableData[key].references ? (\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tonChange={(ev) => {\n\t\t\t\t\t\t\t\t\tformData[key] = ev.target.value;\n\t\t\t\t\t\t\t\t\tsetFormData({ ...formData });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalue={formData[key]}\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{referenceData[\n\t\t\t\t\t\t\t\t\ttableData[key].references.model\n\t\t\t\t\t\t\t\t].map((value) => (\n\t\t\t\t\t\t\t\t\t<option>{value}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n                        ) : (\n                            <input\n                                type=\"text\"\n                                onChange={(ev) => {\n                                    formData[key] = ev.target.value;\n                                    setFormData({ ...formData });\n                                }}\n                                value={formData[key]}\n                                className=\"form-control\"\n                            ></input>\n                        )}\n                    </>\n                ))}\n                <br />\n                <button className=\"btn btn-primary\" onClick={makeNull}>\n                    Make Null\n                </button>\n            </div>\n        );\n\n        return form;\n    }\n\n    return form();\n}\n","/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/History.js",["82","83","84","85","86","87","88","89","90","91"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/style.css\";\nimport { Redirect, useHistory, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function History() {\n    const [dbData, setData] = useState({});\n    const [message, setMessage] = useState(\"\");\n    const [nisn,setNisn] = useState(\"\")\n\n    let history = useHistory();\n\n    function initialize() {\n        if (!localStorage.getItem(\"token\") || !localStorage.getItem(\"nisn\")) {\n            localStorage.clear();\n            history.push(\"/loginsiswa\");\n        }\n        const token = localStorage.getItem(\"token\");\n        const nisn = localStorage.getItem(\"nisn\");\n        setNisn(nisn)\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/siswa/history/\" + nisn,\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setData(response.data);\n            })\n            .catch((error) => {\n                setMessage(error.message);\n            });\n    }\n\n    function crudTable() {\n        //mencoba me render data table, jika tidak ada data apapun untuk di render, maka return \"database kosong\"\n        try {\n            var crudTableHead = Object.keys(dbData[0]).map((key) => (\n                <th>{key}</th>\n            ));\n\n            var crudTableData = dbData.map((object) => (\n                <tr>\n                    {Object.keys(object).map((key) => (\n                        <td>{object[key]}</td>\n                    ))}\n                </tr>\n            ));\n        } catch (e) {\n            return <h3 className=\"text-danger padding\">Database kosong</h3>;\n        }\n\n        return (\n            <div className=\"crudTable\">\n                <table className=\"table\">\n                    <thead>\n                        <tr>{crudTableHead}</tr>\n                    </thead>\n                    <tbody>{crudTableData}</tbody>\n                </table>\n            </div>\n        );\n    }\n\n    useEffect(initialize, []);\n\n    return (\n        <>\n            <nav className=\"navbar navbar-default\">\n                <div className=\"container-fluid\">\n                    <div className=\"navbar-header\">\n                        <button\n                            type=\"button\"\n                            className=\"navbar-toggle collapsed\"\n                            data-toggle=\"collapse\"\n                            data-target=\"#bs-example-navbar-collapse-1\"\n                            aria-expanded=\"false\"\n                        >\n                            <span className=\"sr-only\">Toggle navigation</span>\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                        </button>\n                        <a className=\"navbar-brand\" href=\"#\">\n                            NISN : {nisn}\n                        </a>\n                    </div>\n                    <div\n                        className=\"collapse navbar-collapse\"\n                        id=\"bs-example-navbar-collapse-1\"\n                    >\n                        <ul className=\"nav navbar-nav\">\n                            <li className=\"\">\n                                <Link to=\"/history\">History</Link>\n                            </li>\n                            <li>\n                                <a href=\"#\">Link</a>\n                            </li>\n                            <li className=\"dropdown\">\n                                <a\n                                    href=\"#\"\n                                    className=\"dropdown-toggle\"\n                                    data-toggle=\"dropdown\"\n                                    role=\"button\"\n                                    aria-haspopup=\"true\"\n                                    aria-expanded=\"false\"\n                                >\n                                    Dropdown <span className=\"caret\" />\n                                </a>\n                                <ul className=\"dropdown-menu\">\n                                    <li>\n                                        <a href=\"#\">Action</a>\n                                    </li>\n                                    <li>\n                                        <a href=\"#\">Another action</a>\n                                    </li>\n                                    <li>\n                                        <a href=\"#\">Something else here</a>\n                                    </li>\n                                    <li role=\"separator\" className=\"divider\" />\n                                    <li>\n                                        <a href=\"#\">Separated link</a>\n                                    </li>\n                                    <li role=\"separator\" className=\"divider\" />\n                                    <li>\n                                        <a href=\"#\">One more separated link</a>\n                                    </li>\n                                </ul>\n                            </li>\n                        </ul>\n                        <form className=\"navbar-form navbar-left\">\n                            <div className=\"form-group\">\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    placeholder=\"Search\"\n                                />\n                            </div>\n                            <button type=\"submit\" className=\"btn btn-default\">\n                                Submit\n                            </button>\n                        </form>\n                        <ul className=\"nav navbar-nav navbar-right\">\n                            <li>\n                                <Link to=\"/loginsiswa\">Logout</Link>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n            <div className=\"container-fluid\">\n                {crudTable()}\n                {message}\n            </div>\n        </>\n    );\n}\n","/home/alipw/Documents/from-stratch/fullstack/pembayaran_spp_2/client/src/pages/HomePetugas.js",["92","93","94","95","96","97","98","99","100"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/style.css\";\nimport { Redirect, useHistory, Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default function History() {\n    const [dbData, setData] = useState({});\n    const [message, setMessage] = useState(\"\");\n    const [tableData,setTableData] = useState({})\n    const [referenceData, setReferenceData] = useState({})\n    const [formData, setFormData] = useState({})\n    const [update,setUpdate] = useState(true)\n    const [tableName,setTableName] = useState(\"pembayaran\")\n\n\n    let history = useHistory();\n\n    useEffect(fetchTableData, []);\n    useEffect(makeNull, [tableData]);\n\n    useEffect(initialize, [update], []);\n\n\n    function fetchTableData() {\n        const token = localStorage.getItem(\"token\");\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/petugas/crud/tableinfo/pembayaran\",\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setReferenceData(response.data.reference_ids);\n                delete response.data[\"reference_ids\"];\n                setTableData(response.data);\n            })\n            .catch((error) => {\n                setMessage(error.message)\n                console.log(error);\n            });\n\t}\n\t\n\tfunction sendData() {\n        if(Object.keys(formData).length != Object.keys(tableData).length){\n            setMessage(\"data Incomplete\")\n            console.log(formData)\n        }\n        else{\n            const token = localStorage.getItem(\"token\");\n            axios({\n                method: \"post\",\n                data: formData,\n                url: \"http://localhost:3001/api/petugas/crud/pembayaran\" ,\n                headers: { Authorization: `Bearer ${token}` },\n            })\n                .then((response) => {\n                    makeNull()\n                    setMessage('')\n                    setUpdate(!update)\n                })\n                .catch((error) => {\n                    if(error.response){\n                        setMessage(error.response.data)\n                        console.log(\"error : \", error.response)\n                    }\n                });\n            }\n    }\n\n    function makeNull() {\n        Object.keys(tableData).map((key) => {\n\t\t\tif(tableData[key].references) {\n                formData[key] = referenceData[tableData[key].references.model][0];\n            }\n\t\t\telse formData[key] = \"\";\n        });\n        setFormData({ ...formData });\n        console.log(formData)\n    }\n\n    function form() {\n        var form = \" \";\n            try{\n                form = (\n                    <div className=\"form-group col-sm-5\">\n                        {Object.keys(tableData).map((key) => (\n                            <>\n                                <label> {key}</label>\n                                {tableData[key].references ? (\n                                    <select\n                                        onChange={(ev) => {\n                                            formData[key] = ev.target.value;\n                                            setFormData({ ...formData });\n                                        }}\n                                        value={formData[key]}\n                                        className=\"form-control\"\n                                    >\n                                        {referenceData[\n                                            tableData[key].references.model\n                                        ].map((value) => (\n                                            <option>{value}</option>\n                                        ))}\n                                    </select>\n                                ) : (\n                                    <input\n                                        type=\"text\"\n                                        onChange={(ev) => {\n                                            formData[key] = ev.target.value;\n                                            setFormData({ ...formData});\n                                        }}\n                                        value={formData[key]}\n                                        className=\"form-control\"\n                                    ></input>\n                                )}\n                            </>\n                        ))}\n                        <br />\n                        <button className=\"btn btn-primary\" onClick={sendData}>\n                            Insert\n                        </button>\n                    </div>\n                );\n            }catch(error){\n               return(<h1>an error has occured</h1>)\n            }\n\n        return form;\n    }\n\n    function initialize() {\n        if (!localStorage.getItem(\"token\")) {\n            localStorage.clear();\n            history.push(\"/loginadmin\");\n        }\n        const token = localStorage.getItem(\"token\");\n        axios({\n            method: \"get\",\n            url: \"http://localhost:3001/api/petugas/history/history/history\" ,\n            headers: { Authorization: `Bearer ${token}` },\n        })\n            .then((response) => {\n                setData(response.data);\n            })\n            .catch((error) => {\n                setMessage(error.message);\n            });\n    }\n\n    function crudTable() {\n        //mencoba me render data table, jika tidak ada data apapun untuk di render, maka return \"database kosong\"\n        try {\n            var crudTableHead = Object.keys(dbData[0]).map((key) => (\n                <th>{key}</th>\n            ));\n\n            var crudTableData = dbData.map((object) => (\n                <tr>\n                    {Object.keys(object).map((key) => (\n                        <td>{object[key]}</td>\n                    ))}\n                </tr>\n            ));\n        } catch (e) {\n            return <h3 className=\"text-danger padding\">Database kosong</h3>;\n        }\n\n        return (\n            <div className=\"crudTable\">\n                <table className=\"table\">\n                    <thead>\n                        <tr>{crudTableHead}</tr>\n                    </thead>\n                    <tbody>{crudTableData}</tbody>\n                </table>\n            </div>\n        );\n    }\n\n    useEffect(initialize, []);\n\n    return (\n        <>\n            <nav className=\"navbar navbar-default\">\n                <div className=\"container-fluid\">\n                    <div className=\"navbar-header\">\n                        <button\n                            type=\"button\"\n                            className=\"navbar-toggle collapsed\"\n                            data-toggle=\"collapse\"\n                            data-target=\"#bs-example-navbar-collapse-1\"\n                            aria-expanded=\"false\"\n                        >\n                            <span className=\"sr-only\">Toggle navigation</span>\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                            <span className=\"icon-bar\" />\n                        </button>\n                        <a className=\"navbar-brand\" href=\"#\">\n                            Home\n                        </a>\n                    </div>\n                    <div\n                        className=\"collapse navbar-collapse\"\n                        id=\"bs-example-navbar-collapse-1\"\n                    >\n                        <ul className=\"nav navbar-nav navbar-right\">\n                            <li>\n                                <Link to=\"/loginadmin\">Logout</Link>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n            <div className=\"container-fluid\">\n                {crudTable()}\n                {message}\n                {form()}\n            </div>\n        </>\n    );\n}\n","/home/alipw/Documents/from-stratch/front-end/latihan-1/src/index.js",["101","102"],"import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    useHistory,\n} from \"react-router-dom\";\nimport Home from \"./pages/Home.js\"\n\n\nfunction App(){\n\treturn(\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/\" component={Home} />\n\t\t\t</Switch>\n\t\t</Router>\n\t)\n}\n\nReactDOM.render(<App/>, document.getElementById(\"app\"))",["103","104"],"/home/alipw/Documents/from-stratch/front-end/latihan-1/src/pages/Home.js",["105","106","107","108","109"],{"ruleId":"110","severity":1,"message":"111","line":7,"column":5,"nodeType":"112","messageId":"113","endLine":7,"endColumn":9},{"ruleId":"110","severity":1,"message":"114","line":8,"column":5,"nodeType":"112","messageId":"113","endLine":8,"endColumn":15},{"ruleId":"115","replacedBy":"116"},{"ruleId":"117","replacedBy":"118"},{"ruleId":"110","severity":1,"message":"119","line":13,"column":19,"nodeType":"112","messageId":"113","endLine":13,"endColumn":27},{"ruleId":"120","severity":1,"message":"121","line":57,"column":8,"nodeType":"122","endLine":57,"endColumn":15,"suggestions":"123"},{"ruleId":"110","severity":1,"message":"124","line":3,"column":10,"nodeType":"112","messageId":"113","endLine":3,"endColumn":18},{"ruleId":"110","severity":1,"message":"124","line":3,"column":10,"nodeType":"112","messageId":"113","endLine":3,"endColumn":18},{"ruleId":"110","severity":1,"message":"125","line":15,"column":12,"nodeType":"112","messageId":"113","endLine":15,"endColumn":20},{"ruleId":"110","severity":1,"message":"126","line":15,"column":22,"nodeType":"112","messageId":"113","endLine":15,"endColumn":33},{"ruleId":"110","severity":1,"message":"127","line":16,"column":12,"nodeType":"112","messageId":"113","endLine":16,"endColumn":19},{"ruleId":"110","severity":1,"message":"128","line":16,"column":21,"nodeType":"112","messageId":"113","endLine":16,"endColumn":31},{"ruleId":"110","severity":1,"message":"129","line":17,"column":12,"nodeType":"112","messageId":"113","endLine":17,"endColumn":22},{"ruleId":"110","severity":1,"message":"130","line":17,"column":24,"nodeType":"112","messageId":"113","endLine":17,"endColumn":37},{"ruleId":"131","severity":1,"message":"132","line":40,"column":41,"nodeType":"133","messageId":"134","endLine":40,"endColumn":43},{"ruleId":"135","severity":1,"message":"136","line":66,"column":42,"nodeType":"137","messageId":"138","endLine":66,"endColumn":44},{"ruleId":"131","severity":1,"message":"139","line":78,"column":31,"nodeType":"133","messageId":"134","endLine":78,"endColumn":33},{"ruleId":"131","severity":1,"message":"132","line":134,"column":44,"nodeType":"133","messageId":"134","endLine":134,"endColumn":46},{"ruleId":"131","severity":1,"message":"132","line":135,"column":47,"nodeType":"133","messageId":"134","endLine":135,"endColumn":49},{"ruleId":"131","severity":1,"message":"139","line":152,"column":62,"nodeType":"133","messageId":"134","endLine":152,"endColumn":64},{"ruleId":"120","severity":1,"message":"121","line":167,"column":26,"nodeType":"122","endLine":167,"endColumn":45,"suggestions":"140"},{"ruleId":"120","severity":1,"message":"141","line":170,"column":27,"nodeType":"122","endLine":170,"endColumn":35,"suggestions":"142"},{"ruleId":"143","severity":1,"message":"144","line":215,"column":21,"nodeType":"145","endLine":223,"endColumn":22},{"ruleId":"143","severity":1,"message":"146","line":267,"column":25,"nodeType":"145","endLine":267,"endColumn":62},{"ruleId":"131","severity":1,"message":"139","line":289,"column":55,"nodeType":"133","messageId":"134","endLine":289,"endColumn":57},{"ruleId":"131","severity":1,"message":"139","line":298,"column":55,"nodeType":"133","messageId":"134","endLine":298,"endColumn":57},{"ruleId":"131","severity":1,"message":"139","line":307,"column":55,"nodeType":"133","messageId":"134","endLine":307,"endColumn":57},{"ruleId":"131","severity":1,"message":"139","line":316,"column":55,"nodeType":"133","messageId":"134","endLine":316,"endColumn":57},{"ruleId":"131","severity":1,"message":"139","line":325,"column":55,"nodeType":"133","messageId":"134","endLine":325,"endColumn":57},{"ruleId":"110","severity":1,"message":"147","line":8,"column":9,"nodeType":"112","messageId":"113","endLine":8,"endColumn":16},{"ruleId":"110","severity":1,"message":"148","line":30,"column":11,"nodeType":"112","messageId":"113","endLine":30,"endColumn":19},{"ruleId":"131","severity":1,"message":"132","line":31,"column":41,"nodeType":"133","messageId":"134","endLine":31,"endColumn":43},{"ruleId":"135","severity":1,"message":"136","line":56,"column":42,"nodeType":"137","messageId":"138","endLine":56,"endColumn":44},{"ruleId":"110","severity":1,"message":"124","line":3,"column":10,"nodeType":"112","messageId":"113","endLine":3,"endColumn":18},{"ruleId":"120","severity":1,"message":"121","line":64,"column":27,"nodeType":"122","endLine":64,"endColumn":29,"suggestions":"149"},{"ruleId":"143","severity":1,"message":"146","line":83,"column":25,"nodeType":"145","endLine":83,"endColumn":62},{"ruleId":"143","severity":1,"message":"146","line":96,"column":33,"nodeType":"145","endLine":96,"endColumn":45},{"ruleId":"143","severity":1,"message":"146","line":99,"column":33,"nodeType":"145","endLine":106,"endColumn":34},{"ruleId":"143","severity":1,"message":"146","line":111,"column":41,"nodeType":"145","endLine":111,"endColumn":53},{"ruleId":"143","severity":1,"message":"146","line":114,"column":41,"nodeType":"145","endLine":114,"endColumn":53},{"ruleId":"143","severity":1,"message":"146","line":117,"column":41,"nodeType":"145","endLine":117,"endColumn":53},{"ruleId":"143","severity":1,"message":"146","line":121,"column":41,"nodeType":"145","endLine":121,"endColumn":53},{"ruleId":"143","severity":1,"message":"146","line":125,"column":41,"nodeType":"145","endLine":125,"endColumn":53},{"ruleId":"110","severity":1,"message":"124","line":3,"column":10,"nodeType":"112","messageId":"113","endLine":3,"endColumn":18},{"ruleId":"110","severity":1,"message":"150","line":13,"column":12,"nodeType":"112","messageId":"113","endLine":13,"endColumn":21},{"ruleId":"110","severity":1,"message":"151","line":13,"column":22,"nodeType":"112","messageId":"113","endLine":13,"endColumn":34},{"ruleId":"120","severity":1,"message":"152","line":19,"column":25,"nodeType":"122","endLine":19,"endColumn":36,"suggestions":"153"},{"ruleId":"120","severity":1,"message":"121","line":21,"column":27,"nodeType":"122","endLine":21,"endColumn":35,"suggestions":"154"},{"ruleId":"131","severity":1,"message":"132","line":43,"column":41,"nodeType":"133","messageId":"134","endLine":43,"endColumn":43},{"ruleId":"135","severity":1,"message":"136","line":70,"column":42,"nodeType":"137","messageId":"138","endLine":70,"endColumn":44},{"ruleId":"120","severity":1,"message":"121","line":178,"column":27,"nodeType":"122","endLine":178,"endColumn":29,"suggestions":"155"},{"ruleId":"143","severity":1,"message":"146","line":197,"column":25,"nodeType":"145","endLine":197,"endColumn":62},{"ruleId":"110","severity":1,"message":"111","line":7,"column":5,"nodeType":"112","messageId":"113","endLine":7,"endColumn":9},{"ruleId":"110","severity":1,"message":"114","line":8,"column":5,"nodeType":"112","messageId":"113","endLine":8,"endColumn":15},{"ruleId":"115","replacedBy":"156"},{"ruleId":"117","replacedBy":"157"},{"ruleId":"110","severity":1,"message":"158","line":2,"column":8,"nodeType":"112","messageId":"113","endLine":2,"endColumn":16},{"ruleId":"110","severity":1,"message":"159","line":4,"column":22,"nodeType":"112","messageId":"113","endLine":4,"endColumn":31},{"ruleId":"143","severity":1,"message":"144","line":9,"column":4,"nodeType":"145","endLine":9,"endColumn":32},{"ruleId":"143","severity":1,"message":"144","line":27,"column":7,"nodeType":"145","endLine":27,"endColumn":31},{"ruleId":"143","severity":1,"message":"144","line":32,"column":7,"nodeType":"145","endLine":32,"endColumn":31},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'useHistory' is defined but never used.","no-native-reassign",["160"],"no-negated-in-lhs",["161"],"'setToken' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["162"],"'Redirect' is defined but never used.","'editData' is assigned a value but never used.","'setEditData' is assigned a value but never used.","'display' is assigned a value but never used.","'setDisplay' is assigned a value but never used.","'curDisplay' is assigned a value but never used.","'setCurDisplay' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","Expected '===' and instead saw '=='.",["163"],"React Hook useEffect has missing dependencies: 'crudTable' and 'makeNull'. Either include them or remove the dependency array.",["164"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'message' is assigned a value but never used.","'sendData' is defined but never used.",["165"],"'tableName' is assigned a value but never used.","'setTableName' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'formData' and 'referenceData'. Either include them or remove the dependency array. You can also do a functional update 'setFormData(f => ...)' if you only need 'formData' in the 'setFormData' call.",["166"],["167"],["168"],["160"],["161"],"'ReactDOM' is defined but never used.","'BlockMath' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"169","fix":"170"},{"desc":"171","fix":"172"},{"desc":"173","fix":"174"},{"desc":"175","fix":"176"},{"desc":"177","fix":"178"},{"desc":"179","fix":"180"},{"desc":"175","fix":"181"},"Update the dependencies array to be: [history, token]",{"range":"182","text":"183"},"Update the dependencies array to be: [history, tableName, update]",{"range":"184","text":"185"},"Update the dependencies array to be: [crudTable, dbData, makeNull]",{"range":"186","text":"187"},"Update the dependencies array to be: [history]",{"range":"188","text":"189"},"Update the dependencies array to be: [formData, referenceData, tableData]",{"range":"190","text":"191"},"Update the dependencies array to be: [history, update]",{"range":"192","text":"193"},{"range":"194","text":"189"},[1794,1801],"[history, token]",[6042,6061],"[history, tableName, update]",[6160,6168],"[crudTable, dbData, makeNull]",[2031,2033],"[history]",[659,670],"[formData, referenceData, tableData]",[700,708],"[history, update]",[6304,6306]]